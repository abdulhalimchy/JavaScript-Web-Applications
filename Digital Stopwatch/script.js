var timerId,startTime,timerState=0,elapsedTime=0;function timerAction(){document.activeElement!=document.body&&document.activeElement.blur(),0==timerState?(document.getElementById("start-pause-resume").innerHTML="pause",timerState=1,startTimer()):1==timerState?(document.getElementById("start-pause-resume").innerHTML="resume",timerState=2,pauseTimer()):2==timerState&&(document.getElementById("start-pause-resume").innerHTML="pause",timerState=1,startTimer())}function startTimer(){startTime=new Date,updateTimer()}function updateTimer(){var e=new Date-startTime;e+=elapsedTime;var t=Math.floor(e/1e3);e%=1e3;var n=Math.floor(t/60);t%=60;var r=Math.floor(n/60);n%=60,timer_innterHTML=addLeadingZero1(r)+":"+addLeadingZero1(n)+":"+addLeadingZero1(t),document.getElementById("hr-min-sec").innerHTML=timer_innterHTML,document.getElementById("millis").innerHTML=addLeadingZero2(e),document.getElementById("title").innerHTML=timer_innterHTML,timerId=setTimeout(updateTimer,60)}function pauseTimer(){clearTimeout(timerId),elapsedTime+=new Date-startTime}function resetTimer(){document.getElementById("hr-min-sec").innerHTML="00:00:00",document.getElementById("millis").innerHTML="000",document.getElementById("start-pause-resume").innerHTML="start",document.getElementById("title").innerHTML="Stopwatch",clearTimeout(timerId),timerState=0,elapsedTime=0,document.activeElement!=document.body&&document.activeElement.blur()}function addLeadingZero1(e){return e<10&&(e="0"+e),e}function addLeadingZero2(e){return e<10?e="00"+e:e<100&&(e="0"+e),e}document.onkeypress=function(e){32===(e||window.event).keyCode&&timerAction()};